
#E-commerce
create database if not exists ORDER_DIR;

use ORDER_DIR;


CREATE TABLE IF NOT EXISTS `SUPPLIER`(
`SUPPLIER_ID` INT PRIMARY KEY,
`SUPPLIER_NAME` VARCHAR(50) ,
`SUPPLIER_CITY` VARCHAR(50),
`SUPPLIER_PHONE` VARCHAR(10)	
);


CREATE TABLE IF NOT EXISTS `CUSTOMER` (
  `CUSTOMER_ID` INT NOT NULL,
  `CUSTOMER_NAME` VARCHAR(20) DEFAULT NULL,
  `CUSTOMER_PHONE` VARCHAR(10),
  `CUSTOMER_CITY` VARCHAR(30) ,
  `CUSTOMER_GENDER` CHAR,
  PRIMARY KEY (`CUSTOMER_ID`)
 );



CREATE TABLE IF NOT EXISTS `CATEGORY` (
  `CATEGORY_ID` INT NOT NULL,
  `CATEGORY_NAME` VARCHAR(20) DEFAULT NULL,
   PRIMARY KEY (`CATEGORY_ID`)
  );

 
 
CREATE TABLE IF NOT EXISTS `PRODUCT` (
  `PRODUCT_ID` INT NOT NULL,
  `PRODUCT_NAME` VARCHAR(20) DEFAULT NULL,
  `PRODUCT_DESC` VARCHAR(60) DEFAULT NULL,
  `CATEGORY_ID` INT NOT NULL,
  PRIMARY KEY (`PRODUCT_ID`),
  FOREIGN KEY (`CATEGORY_ID`) REFERENCES CATEGORY (`CATEGORY_ID`)  
  );

 
 
CREATE TABLE IF NOT EXISTS `PRODUCT_DETAILS` (
  `PRODUCT_DETAILS_ID` INT NOT NULL,
  `PRODUCT_ID` INT NOT NULL,
  `SUPPLIER_ID` INT NOT NULL,
  `PRODUCT_DETAILS_PRICE` INT NOT NULL,
  PRIMARY KEY (`PRODUCT_DETAILS_ID`),
  FOREIGN KEY (`PRODUCT_ID`) REFERENCES PRODUCT (`PRODUCT_ID`),
  FOREIGN KEY (`SUPPLIER_ID`) REFERENCES SUPPLIER(`SUPPLIER_ID`)  
  );

 
 
 
CREATE TABLE IF NOT EXISTS `ORDERS` (
  `ORDER_ID` INT NOT NULL,
  `ORDER_AMOUNT` INT NOT NULL,
  `ORDER_DATE` DATE,
  `CUSTOMER_ID` INT NOT NULL,
  `PRODUCT_DETAILS_ID` INT NOT NULL,
  PRIMARY KEY (`ORDER_ID`),
  FOREIGN KEY (`CUSTOMER_ID`) REFERENCES CUSTOMER(`CUSTOMER_ID`),
  FOREIGN KEY (`PRODUCT_DETAILS_ID`) REFERENCES PRODUCT_DETAILS(`PRODUCT_DETAILS_ID`)
  );

 
 
CREATE TABLE IF NOT EXISTS `RATINGS` (
  `RATING_ID` INT NOT NULL,
  `CUSTOMER_ID` INT NOT NULL,
  `SUPPLIER_ID` INT NOT NULL,
  `RATING_STARS` INT NOT NULL,
  PRIMARY KEY (`RATING_ID`),
  FOREIGN KEY (`SUPPLIER_ID`) REFERENCES SUPPLIER (`SUPPLIER_ID`),
  FOREIGN KEY (`CUSTOMER_ID`) REFERENCES CUSTOMER(`CUSTOMER_ID`)
  );

 
 
 
 ### INSERT-OPERATION ##################
 
SET FOREIGN_KEY_CHECKS=0; 



# INSERT SUPPLIER
INSERT
	INTO
	`SUPPLIER`
VALUES 
(1,"Rajesh Retails","Delhi",'1234567890'),
(2,"Appario Ltd.","Mumbai",'2589631470'),
(3,"Knome products","Banglore",'9785462315'),
(4,"Bansal Retails","Kochi",'8975463285'),
(5,"Mittal Ltd.","Lucknow",'7898456532') ;




# INSERT CUSTOMER
INSERT
	INTO
	`CUSTOMER`
VALUES 
(1,"AAKASH",'9999999999',"DELHI",'M'),
(2,"AMAN",'9785463215',"NOIDA",'M'),
(3,"NEHA",'9999999999',"MUMBAI",'F'),
(4,"MEGHA",'9994562399',"KOLKATA",'F'),
(5,"PULKIT",'7895999999',"LUCKNOW",'M');




# INSERT CATEGORY
INSERT
	INTO
	`CATEGORY`
VALUES
(1,"BOOKS"),
(2,"GAMES"),
(3,"GROCERIES"),
(4,"ELECTRONICS"),
(5,"CLOTHES");



# INSERT PRODUCT
INSERT
	INTO
	`PRODUCT`
VALUES
(1,"GTA V","DFJDJFDJFDJFDJFJF",2),
(2,"TSHIRT","DFDFJDFJDKFD",5),
(3,"ROG LAPTOP","DFNTTNTNTERND",4),
(4,"OATS","REURENTBTOTH",3),
(5,"HARRY POTTER","NBEMCTHTJTH",1);
  



# INSERT PRODUCT_DETAILS
INSERT
	INTO
	PRODUCT_DETAILS
VALUES
(1,1,2,1500),
(2,3,5,30000),
(3,5,1,3000),
(4,2,3,2500),
(5,4,1,1000);
  


# INSERT ORDERS
INSERT
	INTO
	`ORDERS`
VALUES
(50,2000,"2021-10-06",2,1),
(20,1500,"2021-10-12",3,5),
(25,30500,"2021-09-16",5,2),
(26,2000,"2021-10-05",1,1),
(30,3500,"2021-08-16",4,3);



#INSERT RATINGS
INSERT
	INTO
	`RATINGS`
VALUES
(1,2,2,4),
(2,3,4,3),
(3,5,1,5),
(4,1,3,2),
(5,4,5,4);


SET FOREIGN_KEY_CHECKS=1; 